<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="Clases">

    <class name="Enlace" table="ENLACE">
        <id name="url" column="URL"></id>
    </class>
 
    <class name="Promocion" table="PROMOCION">
 
        <id name="Identificador" column="IDENTIFICADOR"></id>
        
        <property name="descripcion" column="DESCRIPCION"/>
        <property name="precio_real" column="PRECIO_REAL"/>
        <property name="precio_ofertado" column="PRECIO_OFERTADO"/>
        <property name="fecha_ini_vig" column="FECHA_INI_VIG"/>
        <property name="fecha_fin_vig" column="FECHA_FIN_VIG"/>        
        <property name="coordenadas" column="COORDENADAS"/>
  
        <set name="Ciudades" table="OFERTADA_EN" inverse="true" lazy="true" fetch="select"> 
         <key>
            <column name="IDENTIFICADOR" not-null="true"/>         
         </key>
            <many-to-many class="Clases.Ciudad">
                <column name="NOMBRE"/>
                <column name="PAIS"/>
            </many-to-many>
        </set>
        
        <set name="enlaces" inverse="false" lazy="true" fetch="select" cascade="all"> 
            <key column="IDENTIFICADOR"/>
            <one-to-many class="Clases.Enlace"/>
        </set>   
        
    </class>
  
</hibernate-mapping>